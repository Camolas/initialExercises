// thread viatura do lado gerador
// thread controlador thread do lado do park

//tcontroller
closed = 0;



fd= open(FIFON, O_RDONLY)// cada um c/ 1 fifo diferente referente a porta 9 e digo abre read-only:
while (read(fd,   ,)!=0)
{
	if (closed)
		// mandar mensagem 'fechado'

		if (   id == 0)
			closed = 1;
}

// nem sempre a gerar veículos,  durante isso espero uns ticks.
// cada fifo que esta a entrada do patio e .. etc

// aqui qdo este ciclo termina envio um ciclo qdo irá ser igual a 0

// qdo o parque está a zero o FIFO está bloqueado !!
// se já existir um fifo a tentar enviar a mensagem existe 1...   logo que a thread a fechar o FIFO aberto existirá um fifo a retornar algo aberto!!

//algo a retornar do lado do gerador


// criação de thread veiculos para cada um desses veiculos, que é : cria fifo de terminar qdo o parque fechar!!
// cria um flag
tvehicle



fd = open(FIFO...., O_wronly|O_NONBLOCK)
// qdo aberto para leitura sei que o parque já ta fechado e já não crio nada e...
if (fd!= -1)
{
// e logo qdo façço o write logo a seguir faço o close e por aí fora...
	write(..., vehicle, ...);
		// conjugação destas  coisas todas até que o parque não tenha gerador
	close(fd);
}

if (fd == -1)
	// parque fechado (lado leitura está fechado)

//	1 handler para o sig_PIPE que nos indica essa hipotese!

// semafero partilhado nos 2 programas!!

	// programas independentes 1 do outro,
	//o gerador a gerar carros o parque funciona ... poem la o carro e:
// gerar um numa altura e outro noutra e versão simplificada e o tempo que existem podem ser maior ou menor!
